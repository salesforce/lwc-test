/*
 * Copyright (c) 2018, salesforce.com, inc.
 * All rights reserved.
 * SPDX-License-Identifier: MIT
 * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT
 */
import { renderComponent } from 'lwc';
import Basic from 'ssr/basic';

it('renders a basic component and saves formatted snapshot', async () => {
    const renderedComponent = await renderComponent('x-basic', Basic, { msg: 'Hello world' });
    expect(renderedComponent).toMatchSnapshot();
});

it('renders a basic component and saves inline formatted snapshot', async () => {
    const renderedComponent = await renderComponent('x-basic', Basic, { msg: 'Hello world' });
    expect(renderedComponent).toMatchInlineSnapshot(
        `
    __lwc_scope_token__<__lwc_scope_token__x__lwc_scope_token__-__lwc_scope_token__b__lwc_scope_token__a__lwc_scope_token__s__lwc_scope_token__i__lwc_scope_token__c__lwc_scope_token__>__lwc_scope_token__
    __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__<__lwc_scope_token__t__lwc_scope_token__e__lwc_scope_token__m__lwc_scope_token__p__lwc_scope_token__l__lwc_scope_token__a__lwc_scope_token__t__lwc_scope_token__e__lwc_scope_token__ __lwc_scope_token__s__lwc_scope_token__h__lwc_scope_token__a__lwc_scope_token__d__lwc_scope_token__o__lwc_scope_token__w__lwc_scope_token__r__lwc_scope_token__o__lwc_scope_token__o__lwc_scope_token__t__lwc_scope_token__m__lwc_scope_token__o__lwc_scope_token__d__lwc_scope_token__e__lwc_scope_token__=__lwc_scope_token__"__lwc_scope_token__o__lwc_scope_token__p__lwc_scope_token__e__lwc_scope_token__n__lwc_scope_token__"__lwc_scope_token__>__lwc_scope_token__
    __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__<__lwc_scope_token__s__lwc_scope_token__t__lwc_scope_token__y__lwc_scope_token__l__lwc_scope_token__e__lwc_scope_token__ __lwc_scope_token__t__lwc_scope_token__y__lwc_scope_token__p__lwc_scope_token__e__lwc_scope_token__=__lwc_scope_token__"__lwc_scope_token__t__lwc_scope_token__e__lwc_scope_token__x__lwc_scope_token__t__lwc_scope_token__/__lwc_scope_token__c__lwc_scope_token__s__lwc_scope_token__s__lwc_scope_token__"__lwc_scope_token__>__lwc_scope_token__
    __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__h__lwc_scope_token__1__lwc_scope_token__ __lwc_scope_token__{__lwc_scope_token__c__lwc_scope_token__o__lwc_scope_token__l__lwc_scope_token__o__lwc_scope_token__r__lwc_scope_token__:__lwc_scope_token__ __lwc_scope_token__r__lwc_scope_token__e__lwc_scope_token__d__lwc_scope_token__;__lwc_scope_token__}__lwc_scope_token__
    __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__<__lwc_scope_token__/__lwc_scope_token__s__lwc_scope_token__t__lwc_scope_token__y__lwc_scope_token__l__lwc_scope_token__e__lwc_scope_token__>__lwc_scope_token__
    __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__<__lwc_scope_token__h__lwc_scope_token__1__lwc_scope_token__>__lwc_scope_token__
    __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__B__lwc_scope_token__a__lwc_scope_token__s__lwc_scope_token__i__lwc_scope_token__c__lwc_scope_token__,__lwc_scope_token__ __lwc_scope_token__H__lwc_scope_token__e__lwc_scope_token__l__lwc_scope_token__l__lwc_scope_token__o__lwc_scope_token__ __lwc_scope_token__w__lwc_scope_token__o__lwc_scope_token__r__lwc_scope_token__l__lwc_scope_token__d__lwc_scope_token__
    __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__<__lwc_scope_token__/__lwc_scope_token__h__lwc_scope_token__1__lwc_scope_token__>__lwc_scope_token__
    __lwc_scope_token__ __lwc_scope_token__ __lwc_scope_token__<__lwc_scope_token__/__lwc_scope_token__t__lwc_scope_token__e__lwc_scope_token__m__lwc_scope_token__p__lwc_scope_token__l__lwc_scope_token__a__lwc_scope_token__t__lwc_scope_token__e__lwc_scope_token__>__lwc_scope_token__
    __lwc_scope_token__<__lwc_scope_token__/__lwc_scope_token__x__lwc_scope_token__-__lwc_scope_token__b__lwc_scope_token__a__lwc_scope_token__s__lwc_scope_token__i__lwc_scope_token__c__lwc_scope_token__>__lwc_scope_token__
    `
    );
});

it('runs on node environment', () => {
    expect(() => document).toThrow();
});
